# =========================
# –ë–ê–ó–ê –û–®–ò–ë–û–ö PYTHON
# =========================

import difflib

errors = {

    "NameError": {
        "about": "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ –±—ã–ª–∞ —Å–æ–∑–¥–∞–Ω–∞.",
        "why": "–í—ã –æ–±—Ä–∞—â–∞–µ—Ç–µ—Å—å –∫ –∏–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä–æ–≥–æ Python –Ω–µ –∑–Ω–∞–µ—Ç.",
        "example_bad": "print(x)",
        "example_fix": "x = 5\nprint(x)"
    },

    "TypeError": {
        "about": "–û–ø–µ—Ä–∞—Ü–∏—è –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –Ω–µ–ø–æ–¥—Ö–æ–¥—è—â–µ–º—É —Ç–∏–ø—É –¥–∞–Ω–Ω—ã—Ö.",
        "why": "–ù–∞–ø—Ä–∏–º–µ—Ä, —Å–∫–ª–∞–¥—ã–≤–∞—é—Ç —Å—Ç—Ä–æ–∫—É –∏ —á–∏—Å–ª–æ.",
        "example_bad": "print('5' + 3)",
        "example_fix": "print(int('5') + 3)"
    },

    "ValueError": {
        "about": "–ó–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ç–∏–ø–∞, –Ω–æ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞.",
        "why": "–ù–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–ª—å–∑—è –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—å 'abc' –≤ —á–∏—Å–ª–æ.",
        "example_bad": "int('abc')",
        "example_fix": "int('123')"
    },

    "SyntaxError": {
        "about": "–û—à–∏–±–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ ‚Äî –∫–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.",
        "why": "–ü—Ä–æ–ø—É—â–µ–Ω—ã —Å–∫–æ–±–∫–∏, –¥–≤–æ–µ—Ç–æ—á–∏–µ –∏–ª–∏ –æ—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏.",
        "example_bad": "if x > 3 print(x)",
        "example_fix": "if x > 3:\n    print(x)"
    },

    "IndentationError": {
        "about": "–û—à–∏–±–∫–∞ –æ—Ç—Å—Ç—É–ø–æ–≤.",
        "why": "Python —Å—Ç—Ä–æ–≥–æ —Ç—Ä–µ–±—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –æ—Ç—Å—Ç—É–ø—ã.",
        "example_bad": "if x > 3:\nprint(x)",
        "example_fix": "if x > 3:\n    print(x)"
    },

    "ZeroDivisionError": {
        "about": "–î–µ–ª–µ–Ω–∏–µ –Ω–∞ –Ω–æ–ª—å.",
        "why": "–í –º–∞—Ç–µ–º–∞—Ç–∏–∫–µ –¥–µ–ª–µ–Ω–∏–µ –Ω–∞ 0 –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ.",
        "example_bad": "print(5 / 0)",
        "example_fix": "if b != 0:\n    print(5 / b)"
    },

    "IndexError": {
        "about": "–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ —ç–ª–µ–º–µ–Ω—Ç—É –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —Å–ø–∏—Å–∫–∞.",
        "why": "–ò–Ω–¥–µ–∫—Å –±–æ–ª—å—à–µ, —á–µ–º –¥–ª–∏–Ω–∞ —Å–ø–∏—Å–∫–∞.",
        "example_bad": "a = [1, 2]\nprint(a[5])",
        "example_fix": "print(a[1])"
    },

    "KeyError": {
        "about": "–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫–ª—é—á—É —Å–ª–æ–≤–∞—Ä—è.",
        "why": "–¢–∞–∫–æ–≥–æ –∫–ª—é—á–∞ –Ω–µ—Ç.",
        "example_bad": "d = {'a': 1}\nprint(d['b'])",
        "example_fix": "print(d.get('b'))"
    },

    "AttributeError": {
        "about": "–û–±—ä–µ–∫—Ç –Ω–µ –∏–º–µ–µ—Ç —Ç–∞–∫–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ –∏–ª–∏ –º–µ—Ç–æ–¥–∞.",
        "why": "–ú–µ—Ç–æ–¥ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –¥–ª—è —ç—Ç–æ–≥–æ —Ç–∏–ø–∞.",
        "example_bad": "x = 5\nx.append(3)",
        "example_fix": "a = []\na.append(3)"
    },

    "ImportError": {
        "about": "–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª—è.",
        "why": "–ú–æ–¥—É–ª—å –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏–ª–∏ –∏–º—è —É–∫–∞–∑–∞–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ.",
        "example_bad": "import numppy",
        "example_fix": "import numpy"
    },

    "ModuleNotFoundError": {
        "about": "–ú–æ–¥—É–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω.",
        "why": "–û–Ω –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω.",
        "example_bad": "import requests",
        "example_fix": "pip install requests"
    }
}

# =========================
# –ü–û–ò–°–ö –û–®–ò–ë–ö–ò (–° –û–ü–ï–ß–ê–¢–ö–ê–ú–ò)
# =========================

def find_error(name):
    name = name.lower()
    for err in errors:
        if err.lower() in name:
            return err
    matches = difflib.get_close_matches(name, errors.keys(), n=1)
    return matches[0] if matches else None

# =========================
# –î–ò–ê–õ–û–ì –° –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–ï–ú
# =========================

def errors_dialog():
    print("\nüö® –ù–∞–ø–∏—à–∏ –æ—à–∏–±–∫—É Python (–∏–ª–∏ –≤—Å—Ç–∞–≤—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏):")
    user = input(">> ")

    err = find_error(user)

    if not err:
        print("‚ùå –Ø –ø–æ–∫–∞ –Ω–µ –∑–Ω–∞—é —Ç–∞–∫—É—é –æ—à–∏–±–∫—É.")
        print("–ü–æ–ø—Ä–æ–±—É–π –≤—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ —Ü–µ–ª–∏–∫–æ–º.")
        return

    data = errors[err]

    print(f"\n‚ùó –û—à–∏–±–∫–∞: {err}")
    print("üìñ –ß—Ç–æ —ç—Ç–æ:", data["about"])
    print("ü§î –ü–æ—á–µ–º—É –≤–æ–∑–Ω–∏–∫–∞–µ—Ç:", data["why"])

    print("\n‚ùå –ü—Ä–∏–º–µ—Ä —Å –æ—à–∏–±–∫–æ–π:")
    print(data["example_bad"])

    print("\n‚úÖ –ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:")
    print(data["example_fix"])
